function transform_mirror(a,e,l){for(var g=[],c=[],h=[],d=[],b=97;122>=b;b++){var f=String.fromCharCode(b),k=f.toUpperCase();g.push(f);c.push(f);h.push(k);d.push(k)}for(b=0;b<.5*c.length;b++)f=c[b],c[b]=c[c.length-1-b],c[c.length-1-b]=f,f=d[b],d[b]=d[d.length-1-b],d[d.length-1-b]=f;a=$(a).val().split("").map(function(a){return l?0<=d.indexOf(a)?d[h.indexOf(a)]:0<=c.indexOf(a)?c[g.indexOf(a)]:a:0<=c.indexOf(a)?c[g.indexOf(a)]:0<=d.indexOf(a)?d[h.indexOf(a)]:a}).join("");$(e).val(a)}
function transform(){switch($("#toggle-font").val()){case "mirrors":transform_mirror("#in","#out",!1)}}function untransform(){switch($("#toggle-font").val()){case "mirrors":transform_mirror("#out","#in",!0)}}
(function(a){a(document).ready(function(){a("#toggle-font").change(function(){var e=a(this).val();ga("send","event","font","change",e);switch(e){case "mirrors":a("#out").css({"font-family":a("#toggle-font option:checked").data("f")});transform();break;default:a("#out").css({"font-family":e})}});a("#encode").click(function(){a("#out").val(a("#in").val()).trigger("autosize.resize");a("#in").focus();transform();ga("send","event","button","click","encode");ga("send","event","font","encode",a("#toggle-font").val())});
a("#decode").click(function(){a("#in").val(a("#out").val()).trigger("autosize.resize");a("#out").focus();untransform();ga("send","event","button","click","decode");ga("send","event","font","decode",a("#toggle-font").val())});a("#font-increase").click(function(){a("#out").css({"font-size":Number(a("#out").css("font-size").replace("px",""))+1})});a("#font-decrease").click(function(){a("#out").css({"font-size":Number(a("#out").css("font-size").replace("px",""))-1})});a("#toggle-encode").click(function(){a("#in").toggle()});
a("#toggle-decode").click(function(){a("#out").toggle()});a("#toggle-out-image").click(function(){html2canvas(a("#out"),{onrendered:function(e){a("#snapshots").empty();a("#snapshots").append(a("<div>",{"class":"col-md-5"}).append(e));e.toBlob(function(a){saveAs(a,"Encoded.png")})}});ga("send","event","button","click","export-image")});a("textarea").autosize()})})(jQuery);

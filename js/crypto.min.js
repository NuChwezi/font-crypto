function transform_chaos(a,d,m){for(var e=["a","e","i","o","u"],b=["u","o","i","e","a"],l=[],c=[],f=[],g=[],k=97;122>=k;k++){var h=String.fromCharCode(k),n=h.toUpperCase();0<=e.indexOf(h)?(l.push(h),f.push(n),h=b[e.indexOf(h)],n=h.toUpperCase(),c.push(h)):(l.push(h),c.push(h),f.push(n));g.push(n)}for(b=0;b<.5*c.length;b++)k=c[b],h=c[c.length-1-b],0>e.indexOf(k)&&0>e.indexOf(h)&&(c[b]=h,c[c.length-1-b]=k,k=g[b],g[b]=g[g.length-1-b],g[g.length-1-b]=k);a=$(a).val().split("").map(function(a){return m?
0<=g.indexOf(a)?g[f.indexOf(a)]:0<=c.indexOf(a)?c[l.indexOf(a)]:a:0<=c.indexOf(a)?c[l.indexOf(a)]:0<=g.indexOf(a)?g[f.indexOf(a)]:a}).join("");$(d).val(a)}
function transform_mirror(a,d,m){for(var e=[],b=[],l=[],c=[],f=97;122>=f;f++){var g=String.fromCharCode(f),k=g.toUpperCase();e.push(g);b.push(g);l.push(k);c.push(k)}for(f=0;f<.5*b.length;f++)g=b[f],b[f]=b[b.length-1-f],b[b.length-1-f]=g,g=c[f],c[f]=c[c.length-1-f],c[c.length-1-f]=g;a=$(a).val().split("").map(function(a){return m?0<=c.indexOf(a)?c[l.indexOf(a)]:0<=b.indexOf(a)?b[e.indexOf(a)]:a:0<=b.indexOf(a)?b[e.indexOf(a)]:0<=c.indexOf(a)?c[l.indexOf(a)]:a}).join("");$(d).val(a)}
function transform(){switch($("#toggle-font").val()){case "mirrors":transform_mirror("#in","#out",!1);break;case "chaos":transform_chaos("#in","#out",!1)}}function untransform(){switch($("#toggle-font").val()){case "mirrors":transform_mirror("#out","#in",!0);break;case "chaos":transform_chaos("#out","#in",!1)}}
(function(a){a(document).ready(function(){a("#toggle-font").change(function(){var d=a(this).val();ga("send","event","font","change",d);switch(d){case "chaos":case "mirrors":a("#out").css({"font-family":a("#toggle-font option:checked").data("f")});transform();break;default:a("#out").css({"font-family":d})}});a("#encode").click(function(){a("#out").val(a("#in").val()).trigger("autosize.resize");a("#in").focus();transform();ga("send","event","button","click","encode");ga("send","event","font","encode",
a("#toggle-font").val())});a("#decode").click(function(){a("#in").val(a("#out").val()).trigger("autosize.resize");a("#out").focus();untransform();ga("send","event","button","click","decode");ga("send","event","font","decode",a("#toggle-font").val())});a("#font-increase").click(function(){a("#out").css({"font-size":Number(a("#out").css("font-size").replace("px",""))+1})});a("#font-decrease").click(function(){a("#out").css({"font-size":Number(a("#out").css("font-size").replace("px",""))-1})});a("#toggle-encode").click(function(){a("#in").toggle()});
a("#toggle-decode").click(function(){a("#out").toggle()});a("#toggle-out-pop").click(function(){var d=a("#out"),m=a(d).val(),e=m.indexOf("\n"),b=m.substring(0,0<=e?e:9),e=window.open("",b,"width=400,height=400,resizeable,scrollbars"),d="<html><head><title>"+b+'</title><link rel="stylesheet" href="css/crypto.css"></head><body>'+('<div id="out" style="width:100%;height:100%;font-family:'+a(d).css("font-family")+"; font-size:"+a(d).css("font-size")+'" >'+m.replace(/\n/g,"<br/>")+"</div>"),d=d+"</body></html>";
e.document.write(d);e.document.close();ga("send","event","button","click","export-popup")});a("#toggle-out-image").click(function(){html2canvas(a("#out"),{onrendered:function(d){a("#snapshots").empty();a("#snapshots").append(a("<div>",{"class":"col-md-5"}).append(d));d.toBlob(function(d){var e=a("#out").val(),b=e.indexOf("\n"),e=e.substring(0,0<=b?b:9);saveAs(d,e+".png")})}});ga("send","event","button","click","export-image")});a("textarea").autosize()})})(jQuery);